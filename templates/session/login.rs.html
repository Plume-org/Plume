@use plume_models::Connection;
@use rocket_i18n::Catalog;
@use templates::base;
@use validator::ValidationErrors;
@use routes::session::LoginForm;

@(conn: &Connection, catalog: &Catalog, message: Option<String>, form: LoginForm, errors: ValidationErrors)

@:base(conn, catalog, None, "Login", {}, {}, {
  <h1>@i18n!(catalog, "Login")</h1>
  @if let Some(message) = message {
    <p>@message</p>
  }
  <form method="post">
      @input!(catalog, email_or_name (text), "Username or email", form, errors.clone(), "minlenght=\"1\"")
      @input!(catalog, password (password), "Password", form, errors, "minlenght=\"1\"")
      <input type="submit" value="@i18n!(catalog, "Login")" />
  </form>
})
